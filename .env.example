# Le Filon AO — Environment Variables

# ──────────────────────────────────────────
# Auth (cookie-based HMAC, 100% local)
# ──────────────────────────────────────────
SESSION_SECRET=          # 64-char hex, HMAC-SHA256 signing key for lefilonao_access cookie

# ──────────────────────────────────────────
# Gate (site-level password protection)
# ──────────────────────────────────────────
ALLOWED_EMAILS=          # Comma-separated emails allowed past gate
SITE_PASSWORD=           # Site-wide password for gate access

# ──────────────────────────────────────────
# Stripe — account: acct_1SyeywBDkKUCWueH
# ──────────────────────────────────────────
STRIPE_SECRET_KEY=                       # sk_test_... or sk_live_...
STRIPE_PRICE_PRO_MONTHLY=               # price_... (fondateur=40EUR, standard=50EUR)
STRIPE_COUPON_FOUNDER=                   # coupon ID (-15EUR x6 mois, optional — omit to disable)
STRIPE_WEBHOOK_SECRET=                   # whsec_... (webhook endpoint signing secret)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=      # pk_test_... or pk_live_...
NEXT_PUBLIC_APP_URL=http://localhost:3050 # Used for Stripe return URLs

# ──────────────────────────────────────────
# AI Providers (at least one required for AI features)
# ──────────────────────────────────────────
GEMINI_API_KEY=          # Google AI Studio: https://aistudio.google.com/apikey
ANTHROPIC_API_KEY=       # Anthropic Console: https://console.anthropic.com/api-keys
NVIDIA_API_KEY=          # NVIDIA NIM: https://build.nvidia.com (Llama 3.3 70B, free tier)

# ──────────────────────────────────────────
# Supabase
# ──────────────────────────────────────────
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_ACCESS_TOKEN=   # Management API (for migrations)

# ──────────────────────────────────────────
# Encryption (shared with Cloudflare Workers)
# ──────────────────────────────────────────
ENCRYPTION_MASTER_KEY=   # 32 bytes hex, AES-256-GCM for platform credentials

# ──────────────────────────────────────────
# Cloudflare R2 (document storage)
# ──────────────────────────────────────────
R2_ACCOUNT_ID=
R2_ACCESS_KEY=
R2_SECRET_KEY=
R2_BUCKET=lefilonao-documents

# ──────────────────────────────────────────
# Cloudflare Workers
# ──────────────────────────────────────────
WORKER_URL=https://lefilonao-workers.olamcreations.workers.dev
WORKER_AUTH_TOKEN=       # Shared secret for /scrape-dce auth

# ──────────────────────────────────────────
# Rate Limiting (optional — falls back to in-memory in dev)
# ──────────────────────────────────────────
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ──────────────────────────────────────────
# Monitoring
# ──────────────────────────────────────────
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_AUTH_TOKEN=
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=
